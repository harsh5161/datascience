Testing healthcare.xlsx

#### RUNNING WAIT ####
extension is xlsx
We have an Excel file

Xlrd Done

DataFrame Succesfully imported

Index(['cms_tot_ma_payment_amt', '_id_person_id_syn',
       '_target_transportation_issues', 'ccsp_239_ind', 'est_age',
       'cms_ra_factor_type_cd', 'cmsd2_skn_radiation_ind', 'cmsd2_men_mad_ind',
       'cons_homstat', 'submcc_men_abus_pmpm_ct', 'submcc_sor_ear_pmpm_ct',
       'submcc_inj_comp_ind', 'phy_em_pe_ind', 'cmsd2_sns_general_ind',
       'pdc_lip', 'submcc_sor_eye_pmpm_ct'],
      dtype='object')
#### RUNNING WAIT ####
extension is csv
We have a csv file
This file has 16 columns and 69572 rows
###Performing Initial Numeric Engineering for Capping Purposes###
		 stripping spaces, symbols, and lower casing all entries
done ...
		 Replacing empty and invalid strings
done ...
		 Replacing commas if present in Currencies
done ...
		 Finding Numeric Columns
done ...
		   cms_tot_ma_payment_amt is of type float64
		   _id_person_id_syn is of type object
		   _target_transportation_issues is of type float64
		   ccsp_239_ind is of type float64
		   est_age is of type float64
		   cms_ra_factor_type_cd is of type object
		   cmsd2_skn_radiation_ind is of type float64
		   cmsd2_men_mad_ind is of type float64
		   cons_homstat is of type object
		   submcc_men_abus_pmpm_ct is of type float64
		   submcc_sor_ear_pmpm_ct is of type float64
		   submcc_inj_comp_ind is of type float64
		   phy_em_pe_ind is of type float64
		   cmsd2_sns_general_ind is of type float64
		   pdc_lip is of type float64
		   submcc_sor_eye_pmpm_ct is of type float64
Numeric Engineering time taken: 0.03126096725463867



### TARGET ANALYSIS ENTERED ###
Target has 2 unique values
Printing % occurence of each class in target Column
0.0    0.862
1.0    0.138
Name: _target_transportation_issues, dtype: float64
Dataset has not been capped
Length of the dataset is same as original 69572
Length of the dataframe is 69572
                               Missing in %
cons_homstat                          27.71
cms_ra_factor_type_cd                  6.07
cms_tot_ma_payment_amt                 5.39
_id_person_id_syn                      0.00
ccsp_239_ind                           0.00
est_age                                0.00
cmsd2_skn_radiation_ind                0.00
cmsd2_men_mad_ind                      0.00
_id_person_id_syn                      0.00
_target_transportation_issues          0.00

 ### Entering Numeric Engineering of Target### 

		 stripping spaces, symbols, and lower casing all entries
done ...
		 Replacing empty and invalid strings
done ...
		 Replacing commas if present in Currencies
done ...
		 Finding Numeric Columns
done ...
		   cms_tot_ma_payment_amt is of type float64
		   ccsp_239_ind is of type float64
		   est_age is of type float64
		   cms_ra_factor_type_cd is of type object
		   cmsd2_skn_radiation_ind is of type float64
		   cmsd2_men_mad_ind is of type float64
		   cons_homstat is of type object
		   submcc_men_abus_pmpm_ct is of type float64
		   submcc_sor_ear_pmpm_ct is of type float64
		   submcc_inj_comp_ind is of type float64
		   phy_em_pe_ind is of type float64
		   cmsd2_sns_general_ind is of type float64
		   pdc_lip is of type float64
		   submcc_sor_eye_pmpm_ct is of type float64
		   _target_transportation_issues is of type float64
Numeric Engineering time taken: 0.624993085861206



### TARGET ANALYSIS ENTERED ###
Target has 2 unique values
Printing % occurence of each class in target Column
0.0    0.853432
1.0    0.146568
Name: _target_transportation_issues, dtype: float64

Target has 2 Levels! No classes will be removed
_target_transportation_issues column needs Classification

 0 rows were removed since target had these missing

Removing Rows and Columns with more than 50% missing

Rows are getting dropped first then rows
The columns getting dropped are []
Shape of the dataframe: (55657, 14)
Shape of the target column (55657,)
After removal of highly missing rows and columns
                         Missing in %
cons_homstat                    27.77
cms_ra_factor_type_cd            6.04
cms_tot_ma_payment_amt           5.38
submcc_sor_eye_pmpm_ct           0.00
pdc_lip                          0.00
cmsd2_sns_general_ind            0.00
phy_em_pe_ind                    0.00
submcc_inj_comp_ind              0.00
submcc_sor_ear_pmpm_ct           0.00
submcc_men_abus_pmpm_ct          0.00
Shape of X_train is (55657, 14)
Shape of y_train is (55657,)
printing target variable distribution for classification:

0    0.853424
1    0.146576
Name: _target_transportation_issues, dtype: float64

#### DATE ENGINEERING RUNNING WAIT ####
Date Columns found are []
 #### DONE ####

 ### Entering Segregation Zone ### 


#### Entering Segregation ####

There are 6 pure numeric columns
There are 6 categorical numeric columns

The pure numeric columns are Index(['cms_tot_ma_payment_amt', 'est_age', 'submcc_men_abus_pmpm_ct',
       'submcc_sor_ear_pmpm_ct', 'pdc_lip', 'submcc_sor_eye_pmpm_ct'],
      dtype='object')
The categorical numeric columns are Index(['submcc_inj_comp_ind', 'phy_em_pe_ind', 'cmsd2_men_mad_ind',
       'ccsp_239_ind', 'cmsd2_skn_radiation_ind', 'cmsd2_sns_general_ind'],
      dtype='object')

We found 2 obj type columns!
Printing Cardinality info of All Object Type Columns!

cons_homstat              6
cms_ra_factor_type_cd    10
dtype: int64


cons_homstat has top 5 levels that contribute to more than 10% of data!
cons_homstat has 6 levels before grouping
cons_homstat is a discrete column!

cms_ra_factor_type_cd has top 5 levels that contribute to more than 10% of data!
cms_ra_factor_type_cd has 10 levels before grouping
cms_ra_factor_type_cd is a discrete column!


We found 0 unique columns!


The unique columns are []

We now have 2 obj type discrete columns!

Printing Cardinality info of obj Discrete Columns!

cons_homstat              6
cms_ra_factor_type_cd    10
dtype: int64
checking Initial Presence of Missing Per Column cms_tot_ma_payment_amt      True
est_age                    False
submcc_men_abus_pmpm_ct    False
submcc_sor_ear_pmpm_ct     False
pdc_lip                    False
submcc_sor_eye_pmpm_ct     False
submcc_inj_comp_ind        False
phy_em_pe_ind              False
cmsd2_men_mad_ind          False
ccsp_239_ind               False
cmsd2_skn_radiation_ind    False
cmsd2_sns_general_ind      False
cons_homstat               False
cms_ra_factor_type_cd      False
dtype: bool

### TARGET ANALYSIS ENTERED ###
Target has 2 unique values
Printing % occurence of each class in target Column
0    0.853424
1    0.146576
Name: _target_transportation_issues, dtype: float64
Iteration: 0
Checking Final Presence of Missing Per Column cms_tot_ma_payment_amt     False
est_age                    False
submcc_men_abus_pmpm_ct    False
submcc_sor_ear_pmpm_ct     False
pdc_lip                    False
submcc_sor_eye_pmpm_ct     False
submcc_inj_comp_ind        False
phy_em_pe_ind              False
cmsd2_men_mad_ind          False
ccsp_239_ind               False
cmsd2_skn_radiation_ind    False
cmsd2_sns_general_ind      False
cons_homstat               False
cms_ra_factor_type_cd      False
dtype: bool
!!!---!!!

Printing Cardinality info of all Discrete Columns! That is categorical numerical + obj type discrete!

submcc_inj_comp_ind         2
phy_em_pe_ind               2
cmsd2_men_mad_ind           2
ccsp_239_ind                2
cmsd2_skn_radiation_ind     2
cmsd2_sns_general_ind       2
cons_homstat                6
cms_ra_factor_type_cd      10
dtype: int64

Segregation time taken : 1.718740463256836
Segregation Done!

#### OUTLIER WINSORIZING ####
 #### DONE ####
(150, 0)
Time taken to tokenize the DataFrame 0.734365701675415
Columns that are going to be removed are  []
Time taken for completion of excess column removal: 0.0
No Remarks or Comments Found 
Extracting Review Columns time 0.7656276226043701
No review/comment columns found
total text analytics time taken = 0.7656276226043701
Text Engineering Result Empty DataFrame
Columns: []
Index: []

 #### PEARSON CORRELATION ####

0 columns removed which were highly correlated
The columns removed are []
 #### DONE ####
num_df - (55657, 6)
disc_df - (55657, 8)
DATE_DF - (0, 0)
TEXT_DF - (0, 0)

 #### TRANSFORMATIONS ####

 #### TARGET ENCODING ####
(55657, 14)
(55657,)
Target Encoding Time taken : 0.2968637943267822

 #### FEATURE SELECTION ####
(55657, 14)
runnning classifier selector

Binary Classification


thresh2: 89.2

The final score sheet of 11 selected columns with importances:

                   col_name  scores2   t/f
0    cms_tot_ma_payment_amt      838  True
1                   est_age      560  True
5    submcc_sor_eye_pmpm_ct      444  True
12             cons_homstat      266  True
13    cms_ra_factor_type_cd      164  True
8         cmsd2_men_mad_ind      122  True
9              ccsp_239_ind      116  True
4                   pdc_lip      108  True
3    submcc_sor_ear_pmpm_ct      106  True
11    cmsd2_sns_general_ind      101  True
10  cmsd2_skn_radiation_ind       90  True

3 columns are eliminated during Feature Selection which are:
{'submcc_inj_comp_ind', 'submcc_men_abus_pmpm_ct', 'phy_em_pe_ind'}
(55657, 14)
(55657,)
Feature Selection Time taken : 5.068872690200806
Feature Selection Plot Time taken : 0.26059818267822266
(55657, 11)
(55657,)

 #### DECISION TREE VISUALIZATION ####
Length of X_cart and y_cart 55657 --- 55657
Length of X_cart_res and y_cart_res 94998 --- 94998
cons_homstat column will now be truncated
The values after truncating the text are as follows
y            41605
missin...    29703
u             8542
r             7104
p             6923
t             1121
Name: cons_homstat, dtype: int64
cms_ra_factor_type_cd column will now be truncated
The values after truncating the text are as follows
cn           61715
cp           12254
missin...     8224
cf            7119
e             5126
d              317
c2             111
i               74
se              52
*                6
Name: cms_ra_factor_type_cd, dtype: int64
name 'localconverter' is not defined
#### CART VISUALIZATION DID NOT RUN AND HAD ERRORS ####
DISCRETE COLUMNS ARE:       submcc_inj_comp_ind phy_em_pe_ind cmsd2_men_mad_ind ccsp_239_ind  \
0                     0.0           1.0               1.0          0.0   
1                     0.0           1.0               1.0          0.0   
2                     0.0           1.0               0.0          0.0   
3                     0.0           0.0               0.0          0.0   
4                     0.0           0.0               0.0          0.0   
...                   ...           ...               ...          ...   
55652                 0.0           0.0               0.0          0.0   
55653                 0.0           1.0               0.0          0.0   
55654                 0.0           0.0               0.0          0.0   
55655                 0.0           1.0               0.0          0.0   
55656                 0.0           0.0               0.0          0.0   

      cmsd2_skn_radiation_ind cmsd2_sns_general_ind cons_homstat  \
0                         0.0                   1.0            y   
1                         0.0                   0.0            r   
2                         0.0                   0.0            y   
3                         0.0                   1.0            y   
4                         0.0                   1.0      missing   
...                       ...                   ...          ...   
55652                     0.0                   0.0            y   
55653                     0.0                   0.0            y   
55654                     0.0                   1.0            y   
55655                     0.0                   0.0      missing   
55656                     0.0                   1.0      missing   

      cms_ra_factor_type_cd  
0                        cn  
1                        cp  
2                        cp  
3                        cn  
4                        cn  
...                     ...  
55652                    cn  
55653                    cn  
55654               missing  
55655               missing  
55656                    cn  

[55657 rows x 8 columns]
DISCRETE COLUMNS ARE!!!!!!!: ['cmsd2_men_mad_ind', 'ccsp_239_ind', 'cmsd2_skn_radiation_ind', 'cmsd2_sns_general_ind', 'cons_homstat', 'cms_ra_factor_type_cd']
Categorical Columns considered:

Index(['cmsd2_men_mad_ind', 'ccsp_239_ind', 'cmsd2_skn_radiation_ind',
       'cmsd2_sns_general_ind', 'cons_homstat', 'cms_ra_factor_type_cd'],
      dtype='object')
Non-Categorical Columns considered:

Index(['cms_tot_ma_payment_amt', 'est_age', 'submcc_sor_ear_pmpm_ct',
       'pdc_lip', 'submcc_sor_eye_pmpm_ct'],
      dtype='object')
value=[n1,n2,n3...] where n1,n2,n3 are the number of samples of the classes in the order     
value=[0. 1.]
['0.0', '1.0']
(55657, 11)
(55657,)

 #### NORMALIZATION ####
 #### DONE ####
(55657, 11)
(55657,)

 #### POWER TRANSFORMATIONS ####
 #### DONE ####
(55657, 11)
(55657,)

 #### Printing Sample Equation of the DATA ####
LABEL ENCODED FOR SAMPLE EQUATION


LOGISTIC REGRESSION EQUATION:


ln(odds) = 0.0006020754278581899*cms_tot_ma_payment_amt + -0.04751282551380285*est_age + 0.3390480149130717*cmsd2_men_mad_ind + 0.7864913750694791*ccsp_239_ind + -0.590706477136548*cmsd2_skn_radiation_ind + 0.04589012377342733*cmsd2_sns_general_ind + -0.08093113580801006*cons_homstat + 0.08614237149879339*cms_ra_factor_type_cd + 2.425435185915209

=> odds = exp ( 0.0006020754278581899*cms_tot_ma_payment_amt + -0.04751282551380285*est_age + 0.3390480149130717*cmsd2_men_mad_ind + 0.7864913750694791*ccsp_239_ind + -0.590706477136548*cmsd2_skn_radiation_ind + 0.04589012377342733*cmsd2_sns_general_ind + -0.08093113580801006*cons_homstat + 0.08614237149879339*cms_ra_factor_type_cd + 2.425435185915209 )

Where, odds = P(class=1.0) / 1 - P(class=1.0) 

In simple terms Odds of an event happening is defined as the likelihood that an event will occur, expressed as a proportion of the likelihood that the event will not occur. For example - the odds of rolling four on a dice are 1/6 or 16.67%.

Estimated f1 score =  72.09%
(F1 score is the harmonic mean of precision and recall, it tells how good the model is at predicting correctly and avoiding false predictions. Simply put, it is approximate accuracy.)

Where the columns are encoded like this:

+----------------+------------------------+
| cons_homstat   |   cons_homstat encoded |
|----------------+------------------------|
| missing        |                      0 |
| p              |                      1 |
| r              |                      2 |
| t              |                      3 |
| u              |                      4 |
| y              |                      5 |
+----------------+------------------------+
+-------------------------+---------------------------------+
| cms_ra_factor_type_cd   |   cms_ra_factor_type_cd encoded |
|-------------------------+---------------------------------|
| *                       |                               0 |
| c2                      |                               1 |
| cf                      |                               2 |
| cn                      |                               3 |
| cp                      |                               4 |
| d                       |                               5 |
| e                       |                               6 |
| i                       |                               7 |
| missing                 |                               8 |
| se                      |                               9 |
+-------------------------+---------------------------------+
 #### DONE ####

This is final shape of X_train : (55657, 11)
This is final shape of Y_train : (55657,)


 #### SAVING INIT INFORMATION ####
 #### DONE ####

 TOTAL TRAINING DATA CLEANING AND PLOTS : 17.69616413116455

	 #### VALIDATION AND SCORING ZONE ####
Value of Key from Training is:  _id_person_id_syn
Total no. of null values present in the Key:  _id_person_id_syn    0
_id_person_id_syn    0
dtype: int64
NUll values after removal are:  _id_person_id_syn    0
_id_person_id_syn    0
dtype: int64
'DataFrame' object has no attribute 'dtype'



